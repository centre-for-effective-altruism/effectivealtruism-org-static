extends ./page

block postContent
	if Object.keys(series).length>0
		each s,seriesSlug in series
			if seriesSet[seriesSlug] && seriesSet[seriesSlug] && seriesSet[seriesSlug].file.paginateItems
				.series-pagination
					.series-pagination-series-title-wrapper Part of the series 
						h4.series-pagination-series-title!= typogr.typogrify(seriesSet[seriesSlug].file.title)
						-var seriesContentsID = "series-contents-"+seriesSlug
						ol.collapse.series-contents(id=seriesContentsID)
							each child,index in seriesSet[seriesSlug].children
								li.series-contents-item #{index+1}. 
									- var itemText = typogr.typogrify(child.file.title)
									if canonical === child.file.canonical
										strong!= itemText
									else 
										a(href=child.file.canonical)!= itemText
						a.series-contents-toggle.collapsed(href='#'+seriesContentsID, role="button", data-toggle="collapse", aria-expanded="false" aria-controls=seriesContentsID)
							span.show-contents 
								| show
							span.hide-contents
								| hide
							|  contents 
							span.show-contents 
								i.fa.fa-plus-circle
							span.hide-contents
								i.fa.fa-times-circle

					ul.series-pagination-links
						if s.previous
							li.series-pagination-previous
								a(href=s.previous.file.canonical)
									i.fa.fa-long-arrow-left
									|  Previous Idea
									br
									strong!= typogr.typogrify(s.previous.file.title)
						else 
							li.series-pagination-previous
								em Beginning of this series
								br
								a(href='/ideas/')
									i.fa.fa-backward
									strong  Go back to the Ideas page 
						if s.next
							li.series-pagination-next
								a(href=s.next.file.canonical)
									| Next Idea 
									i.fa.fa-long-arrow-right
									br
									strong!= typogr.typogrify(s.next.file.title)
						else 
							li.series-pagination-next
								em End of this series 
								br
								a(href='/ideas/') 
									i.fa.fa-backward
									strong  Go back to the Ideas page 